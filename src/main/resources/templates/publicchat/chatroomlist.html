<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link th:href="@{/css/common.css}" rel="stylesheet" href="test1.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
<!-- ---------------------헤더--------------------- -->
<div th:replace="~{/fragment/header :: header}"></div>

<div th:replace="~{/fragment/menubar :: menubar}"></div>



<!-- ---------------------헤더--------------------- -->

<!------------------------메인 컨테이너--------------------------------------->
<div class="main-container">


    <!--   --------------------사이드 바-------------------------->
    <div th:replace="~{/fragment/sidebar :: sidebar}"></div>
    <!--   --------------------사이드 바-------------------------->

    <!-- left-container -->
    <div class="left-container">

    </div>
    <!-- left-container 끝 -->

    <!--  미드 컨테이너-->
    <div class="mid-container">

        <div class="" style="width: 80%; float: left; margin-left: 10%; margin-top: 2%;" ><!--             디자인                         -->
            <div class="mid-btn-bar" style="float:right">
                <button type="button" class="btn btn-secondary" th:onclick="|location.href='@{/publicChat/createChatRoom}';|">채팅방 개설하기</button>
            </div>
            <h2>공개 채팅방 목록</h2>
            <div class="table-responsive small">
                <table class="table table-striped">
                    <thead>
                    <tr>
                        <th scope="col">채팅방 이름</th>
                        <th scope="col">채팅방 마스터</th>
                        <th scope="col">채팅방 인원</th>
                        <th scope="col">채팅방 생성 날짜</th>
                        <th scope="col">채팅방 비번유무</th>
                        <th scope="col">호우</th>
                    </tr>
                    </thead>
                    <tbody>
                    <div th:each="chatroom : ${chatroomList}">
                        <tr>
                            <td th:text="${chatroom.roomName}"></td>
                            <td th:text="${chatroom.masterNickName}">data</td>
                            <td th:text="${chatroom.numberOfPerson}">data</td>
                            <td th:text="${chatroom.createDate}">random</td>
                            <td><button th:onclick="|window.open('@{/publicChat/info/{chatRoomId} (chatRoomId=${chatroom.id})}','join','width=800px, height=640px');|">상세보기</button></td>
                            <td>
                                <div th:if="${chatroom.joinState.toString().equals('YES')}">
                                    <button  th:onclick="|location.href='@{/publicChat/roomCode={roomCode}(roomCode=${chatroom.roomCode})}';|">입장하기</button>
                                </div>
                                <div th:if="${chatroom.joinState.toString().equals('NO')}">
                                    <button  th:onclick="|location.href='@{/publicChat/joinChatRoom/{roomCode}(roomCode=${chatroom.roomCode})}';|">채팅방 들어가기</button>
                                </div>
                            </td>

                        </tr>
                    </div>


                    </tbody>
                </table>
            </div>
        </div><!--             디자인                         -->

    </div>
    <!-- 미드 컨테이너 끝-->

    <!-- right-container-->
    <div class="right-container">

    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

<script>
      const Nell = document.getElementById('Nell');
      const baunt = document.getElementById('baunt');

      if(Nell){
        Nell.addEventListener('click', ()=>{
          baunt.classList.add('rebaunt')
        })
      }
  </script>
</body>
</html>